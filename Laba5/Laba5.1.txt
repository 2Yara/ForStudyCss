using System;

class Program {
    static void Main() {
        // Ввод размера массива с терминала
        int n = 0;
        while (n <= 0) {
            Console.Write("Введите количество элементов массива (n > 0): ");
            if (!int.TryParse(Console.ReadLine(), out n) || n <= 0) {
                Console.WriteLine("Ошибка: введите целое положительное число!");
                n = 0;
            }
        }
        
        // Заполнение массива с терминала
        double[] array = new double[n];
        Console.WriteLine($"\nВведите {n} вещественных чисел:");
        for (int i = 0; i < n; i++) {
            bool isValid = true;
            while (isValid) {
                if (double.TryParse(Console.ReadLine(), out double value)) {
                    array[i] = value;
                    isValid = false;
                }
                else {
                    Console.WriteLine("Введите корректное вещественное число!");
                }
            }
        }
        

        // Поиск номера минимального элемента (индекс + 1)
        int minIndex = FindMinElementIndex(array);
        Console.WriteLine($"\n1. Номер минимального элемента: {minIndex + 1} (индекс {minIndex}, значение = {array[minIndex]:F2})");
        
        // Сумма чисел между первым и вторым отрицательными элементами
        double sum = SumBetweenFirstTwoNegatives(array);
        if (sum == double.MinValue) {
            Console.WriteLine("2. В массиве меньше двух отрицательных элементов");
        }
        else {
            Console.WriteLine($"2. Сумма элементов между первым и вторым отрицательными элементами: {sum:F2}");
        }
        
        // Преобразование массива
        double[] transformedArray = TransformArray(array);
        Console.WriteLine("\n3. Преобразованный массив (сначала элементы с |x| <= 1, потом остальные):");
        PrintArray(transformedArray);
    }
    
    static int FindMinElementIndex(double[] arr) {
        if (arr == null || arr.Length == 0)
            throw new ArgumentException("Массив пуст");
        
        int minIndex = 0;
        for (int i = 1; i < arr.Length; i++) {
            if (arr[i] < arr[minIndex]) {
                minIndex = i;
            }
        }
        return minIndex;
    }
    
    static double SumBetweenFirstTwoNegatives(double[] arr) {
        if (arr == null || arr.Length == 0) return 0;
        
        int firstNegativeIndex = -1;
        int secondNegativeIndex = -1;
        
        for (int i = 0; i < arr.Length; i++) {
            if (arr[i] < 0) {
                if (firstNegativeIndex == -1) {
                    firstNegativeIndex = i;
                }
                else if (secondNegativeIndex == -1) {
                    secondNegativeIndex = i;
                    break;
                }
            }
        }
        
        if (firstNegativeIndex == -1 || secondNegativeIndex == -1) return double.MinValue; 
        
        double sum = 0;
        for (int i = firstNegativeIndex + 1; i < secondNegativeIndex; i++) {
            sum += arr[i];
        }
        return sum;
    }
    
    static double[] TransformArray(double[] arr) {
        if (arr == null || arr.Length == 0) return new double[0];
        
        var smallValues = new System.Collections.Generic.List<double>();
        var otherValues = new System.Collections.Generic.List<double>();
        
        foreach (double value in arr) {
            if (Math.Abs(value) <= 1.0) {
                smallValues.Add(value);
            }
            else {
                otherValues.Add(value);
            }
        }
        
        double[] result = new double[arr.Length];
        int index = 0;
        
        foreach (double value in smallValues) {
            result[index++] = value;
        }
        foreach (double value in otherValues) {
            result[index++] = value;
        }
        return result;
    }
    
    static void PrintArray(double[] arr) {
        if (arr == null || arr.Length == 0) {
            Console.WriteLine("Массив пуст");
            return;
        }
        
        for (int i = 0; i < arr.Length; i++) {
            Console.Write($"{arr[i]:F2} ");
        }
        Console.WriteLine("\n");
    }
}
